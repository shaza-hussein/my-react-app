{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useAuth } from '../Context/AuthContext';\nexport default function useLogout() {\n  _s();\n  const [isLoggingOut, setIsLoggingOut] = useState(false);\n  const {\n    logout\n  } = useAuth();\n  const handleLogout = async () => {\n    if (isLoggingOut) return; // منع النقر المتكرر\n\n    setIsLoggingOut(true);\n    try {\n      await logout();\n      // لا نحتاج لإعادة تعيين isLoggingOut لأن logout سيوجه لصفحة أخرى\n    } catch (error) {\n      var _error$response, _error$response2;\n      console.error('خطأ في تسجيل الخروج:', error);\n      setIsLoggingOut(false);\n\n      // يمكن إضافة رسالة خطأ للمستخدم هنا\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 400) {\n        console.log('❌ خطأ في البيانات المرسلة للخادم');\n      } else if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 401) {\n        console.log('❌ التوكن منتهي الصلاحية');\n      } else {\n        console.log('❌ خطأ في الاتصال بالخادم');\n      }\n    }\n  };\n  return {\n    isLoggingOut,\n    handleLogout\n  };\n}\n_s(useLogout, \"0Dy4xI30O31/gGWeSPyNh+7XDcM=\", false, function () {\n  return [useAuth];\n});","map":{"version":3,"names":["useState","useAuth","useLogout","_s","isLoggingOut","setIsLoggingOut","logout","handleLogout","error","_error$response","_error$response2","console","response","status","log"],"sources":["C:/Users/shaza/Desktop/test for NO/src/Hooks/useLogout.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useAuth } from '../Context/AuthContext';\r\n\r\nexport default function useLogout() {\r\n  const [isLoggingOut, setIsLoggingOut] = useState(false);\r\n  const { logout } = useAuth();\r\n\r\n  const handleLogout = async () => {\r\n    if (isLoggingOut) return; // منع النقر المتكرر\r\n    \r\n    setIsLoggingOut(true);\r\n    try {\r\n      await logout();\r\n      // لا نحتاج لإعادة تعيين isLoggingOut لأن logout سيوجه لصفحة أخرى\r\n    } catch (error) {\r\n      console.error('خطأ في تسجيل الخروج:', error);\r\n      setIsLoggingOut(false);\r\n      \r\n      // يمكن إضافة رسالة خطأ للمستخدم هنا\r\n      if (error.response?.status === 400) {\r\n        console.log('❌ خطأ في البيانات المرسلة للخادم');\r\n      } else if (error.response?.status === 401) {\r\n        console.log('❌ التوكن منتهي الصلاحية');\r\n      } else {\r\n        console.log('❌ خطأ في الاتصال بالخادم');\r\n      }\r\n    }\r\n  };\r\n\r\n  return {\r\n    isLoggingOut,\r\n    handleLogout\r\n  };\r\n} "],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,OAAO,QAAQ,wBAAwB;AAEhD,eAAe,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM;IAAEM;EAAO,CAAC,GAAGL,OAAO,CAAC,CAAC;EAE5B,MAAMM,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAIH,YAAY,EAAE,OAAO,CAAC;;IAE1BC,eAAe,CAAC,IAAI,CAAC;IACrB,IAAI;MACF,MAAMC,MAAM,CAAC,CAAC;MACd;IACF,CAAC,CAAC,OAAOE,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,gBAAA;MACdC,OAAO,CAACH,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CH,eAAe,CAAC,KAAK,CAAC;;MAEtB;MACA,IAAI,EAAAI,eAAA,GAAAD,KAAK,CAACI,QAAQ,cAAAH,eAAA,uBAAdA,eAAA,CAAgBI,MAAM,MAAK,GAAG,EAAE;QAClCF,OAAO,CAACG,GAAG,CAAC,kCAAkC,CAAC;MACjD,CAAC,MAAM,IAAI,EAAAJ,gBAAA,GAAAF,KAAK,CAACI,QAAQ,cAAAF,gBAAA,uBAAdA,gBAAA,CAAgBG,MAAM,MAAK,GAAG,EAAE;QACzCF,OAAO,CAACG,GAAG,CAAC,yBAAyB,CAAC;MACxC,CAAC,MAAM;QACLH,OAAO,CAACG,GAAG,CAAC,0BAA0B,CAAC;MACzC;IACF;EACF,CAAC;EAED,OAAO;IACLV,YAAY;IACZG;EACF,CAAC;AACH;AAACJ,EAAA,CA9BuBD,SAAS;EAAA,QAEZD,OAAO;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}