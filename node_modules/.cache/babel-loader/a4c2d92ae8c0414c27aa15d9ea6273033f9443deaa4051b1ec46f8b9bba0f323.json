{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { getUsersList } from '../API/ProtectedAuth';\nimport { handleApiError } from '../Utils/errorHandler';\nexport default function useUsersList(queryParams = {}) {\n  _s();\n  const [data, setData] = useState({\n    users: [],\n    total: 0,\n    page: 1,\n    pageSize: 20,\n    next: null,\n    previous: null\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchUsers = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        var _queryParams$page, _queryParams$pageSize;\n        const {\n          users,\n          total\n        } = await getUsersList(queryParams);\n        setData({\n          users,\n          total,\n          page: (_queryParams$page = queryParams.page) !== null && _queryParams$page !== void 0 ? _queryParams$page : 1,\n          pageSize: (_queryParams$pageSize = queryParams.pageSize) !== null && _queryParams$pageSize !== void 0 ? _queryParams$pageSize : 20\n        });\n      } catch (err) {\n        const errorMessage = handleApiError(err);\n        setError(errorMessage);\n        console.error('❌ خطأ في جلب قائمة المستخدمين:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUsers();\n  }, [queryParams]);\n  return {\n    users: data.users,\n    total: data.total,\n    page: data.page,\n    pageSize: data.pageSize,\n    loading,\n    error,\n    refetch: () => {\n      // إعادة جلب البيانات\n      const fetchUsers = async () => {\n        setLoading(true);\n        setError(null);\n        try {\n          var _queryParams$page2, _queryParams$pageSize2;\n          const {\n            users,\n            total\n          } = await getUsersList(queryParams);\n          setData({\n            users,\n            total,\n            page: (_queryParams$page2 = queryParams.page) !== null && _queryParams$page2 !== void 0 ? _queryParams$page2 : 1,\n            pageSize: (_queryParams$pageSize2 = queryParams.pageSize) !== null && _queryParams$pageSize2 !== void 0 ? _queryParams$pageSize2 : 20\n          });\n        } catch (err) {\n          const errorMessage = handleApiError(err);\n          setError(errorMessage);\n          console.error('❌ خطأ في إعادة جلب قائمة المستخدمين:', err);\n        } finally {\n          setLoading(false);\n        }\n      };\n      fetchUsers();\n    }\n  };\n}\n_s(useUsersList, \"AqGUJ7bW+qrhvQmZpjuOC9h6m3A=\");","map":{"version":3,"names":["useState","useEffect","getUsersList","handleApiError","useUsersList","queryParams","_s","data","setData","users","total","page","pageSize","next","previous","loading","setLoading","error","setError","fetchUsers","_queryParams$page","_queryParams$pageSize","err","errorMessage","console","refetch","_queryParams$page2","_queryParams$pageSize2"],"sources":["C:/Users/shaza/Desktop/test for NO/src/Hooks/useUsersList.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { getUsersList } from '../API/ProtectedAuth';\r\nimport { handleApiError } from '../Utils/errorHandler';\r\n\r\nexport default function useUsersList(queryParams = {}) {\r\n  const [data, setData] = useState({ \r\n    users: [], \r\n    total: 0, \r\n    page: 1, \r\n    pageSize: 20,\r\n    next: null,\r\n    previous: null,\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      try {\r\n        const { users, total } = await getUsersList(queryParams);\r\n        \r\n        setData({\r\n          users,\r\n          total,\r\n          page: queryParams.page ?? 1,\r\n          pageSize: queryParams.pageSize ?? 20\r\n        });\r\n      } catch (err) {\r\n        const errorMessage = handleApiError(err);\r\n        setError(errorMessage);\r\n        console.error('❌ خطأ في جلب قائمة المستخدمين:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUsers();\r\n  }, [queryParams]);\r\n\r\n  return { \r\n    users: data.users, \r\n    total: data.total, \r\n    page: data.page, \r\n    pageSize: data.pageSize,\r\n    loading, \r\n    error,\r\n    refetch: () => {\r\n      // إعادة جلب البيانات\r\n      const fetchUsers = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        try {\r\n          const { users, total } = await getUsersList(queryParams);\r\n          \r\n          setData({\r\n            users,\r\n            total,\r\n            page: queryParams.page ?? 1,\r\n            pageSize: queryParams.pageSize ?? 20\r\n          });\r\n        } catch (err) {\r\n          const errorMessage = handleApiError(err);\r\n          setError(errorMessage);\r\n          console.error('❌ خطأ في إعادة جلب قائمة المستخدمين:', err);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      \r\n      fetchUsers();\r\n    }\r\n  };\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}