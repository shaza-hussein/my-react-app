{"ast":null,"code":"// src/API/auth.js\nimport { publicAxios } from '../Config/axios';\nimport axiosInstance from '../Config/axios';\nimport { REGISTER, SEND_OTP, LOGIN, TOKEN_REFRESH, CONFIRM_OTP, RESET_PASSWORD, LOGOUT } from \"./Api\";\n\n// ÿ∑ŸÑÿ® ÿ•ÿ±ÿ≥ÿßŸÑ OTP - ÿ∑ŸÑÿ® ÿπÿßŸÖ\nexport const sendOTP = async ({\n  phone_number,\n  purpose = \"register\"\n}) => {\n  const response = await publicAxios.post(SEND_OTP, {\n    phone_number,\n    purpose\n  });\n  return response.data;\n};\n\n// ÿ™ŸÜŸÅŸäÿ∞ ÿπŸÖŸÑŸäÿ© ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ - ÿ∑ŸÑÿ® ÿπÿßŸÖ\nexport const registerUser = async data => {\n  const response = await publicAxios.post(REGISTER, data);\n  return response.data;\n};\n\n// ÿ™ŸÜŸÅŸäÿ∞ ÿπŸÖŸÑŸäÿ© ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ - ÿ∑ŸÑÿ® ÿπÿßŸÖ\nexport const loginUser = async data => {\n  const response = await publicAxios.post(LOGIN, data);\n  return response.data;\n};\n\n// ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ - ÿ∑ŸÑÿ® ÿπÿßŸÖ\nexport const refreshToken = async refresh => {\n  const response = await publicAxios.post(TOKEN_REFRESH, {\n    refresh\n  });\n  return response.data;\n};\n\n// ÿ™ŸÜŸÅŸäÿ∞ ÿ™ÿ£ŸÉŸäÿØ ÿ±ŸÖÿ≤ OTP - ÿ∑ŸÑÿ® ÿπÿßŸÖ\nexport const confirmOTP = async data => {\n  const response = await publicAxios.post(CONFIRM_OTP, data);\n  return response.data;\n};\n\n// ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± - ÿ∑ŸÑÿ® ÿπÿßŸÖ\nexport const resetPassword = async data => {\n  const response = await publicAxios.post(RESET_PASSWORD, data);\n  return response.data;\n};\n\n// ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨ - ÿ∑ŸÑÿ® ŸÖÿ≠ŸÖŸä\nexport const logoutUser = async () => {\n  try {\n    // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ refresh token ŸÖŸÜ ÿßŸÑÿ¨ŸÑÿ≥ÿ©\n    const {\n      sessionManager\n    } = await import('../Config/cookies');\n    const session = sessionManager.restoreSession();\n    const refreshToken = session === null || session === void 0 ? void 0 : session.refreshToken;\n    if (!refreshToken) {\n      console.log('‚ö†Ô∏è ŸÑÿß ŸäŸàÿ¨ÿØ refresh tokenÿå ÿ≥Ÿäÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ© ŸÅŸÇÿ∑');\n      return {\n        message: 'ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ©'\n      };\n    }\n    console.log('üîÑ ÿ•ÿ±ÿ≥ÿßŸÑ ÿ∑ŸÑÿ® ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨ ŸÖÿπ refresh token');\n    const response = await axiosInstance.post(LOGOUT, {\n      refresh: refreshToken\n    });\n    console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨ ÿ®ŸÜÿ¨ÿßÿ≠:', response.data);\n    return response.data;\n  } catch (error) {\n    var _error$response, _error$response2;\n    console.log('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status, (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n    throw error;\n  }\n};","map":{"version":3,"names":["publicAxios","axiosInstance","REGISTER","SEND_OTP","LOGIN","TOKEN_REFRESH","CONFIRM_OTP","RESET_PASSWORD","LOGOUT","sendOTP","phone_number","purpose","response","post","data","registerUser","loginUser","refreshToken","refresh","confirmOTP","resetPassword","logoutUser","sessionManager","session","restoreSession","console","log","message","error","_error$response","_error$response2","status"],"sources":["C:/Users/shaza/Desktop/test for NO/src/API/Auth.js"],"sourcesContent":["// src/API/auth.js\r\nimport  { publicAxios } from '../Config/axios';\r\nimport axiosInstance from '../Config/axios';\r\nimport {\r\n  REGISTER,\r\n  SEND_OTP,\r\n  LOGIN,\r\n  TOKEN_REFRESH,\r\n  CONFIRM_OTP,\r\n  RESET_PASSWORD,\r\n  LOGOUT\r\n} from \"./Api\";\r\n\r\n// ÿ∑ŸÑÿ® ÿ•ÿ±ÿ≥ÿßŸÑ OTP - ÿ∑ŸÑÿ® ÿπÿßŸÖ\r\nexport const sendOTP = async ({ phone_number, purpose = \"register\" }) => {\r\n  const response = await publicAxios.post(SEND_OTP, { \r\n    phone_number,\r\n    purpose \r\n  });\r\n  return response.data;\r\n};\r\n\r\n// ÿ™ŸÜŸÅŸäÿ∞ ÿπŸÖŸÑŸäÿ© ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ - ÿ∑ŸÑÿ® ÿπÿßŸÖ\r\nexport const registerUser = async (data) => {\r\n  const response = await publicAxios.post(REGISTER, data);\r\n  return response.data;\r\n};\r\n\r\n// ÿ™ŸÜŸÅŸäÿ∞ ÿπŸÖŸÑŸäÿ© ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ - ÿ∑ŸÑÿ® ÿπÿßŸÖ\r\nexport const loginUser = async (data) => {\r\n  const response = await publicAxios.post(LOGIN, data);\r\n  return response.data;\r\n};\r\n\r\n// ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ - ÿ∑ŸÑÿ® ÿπÿßŸÖ\r\nexport const refreshToken = async (refresh) => {\r\n  const response = await publicAxios.post(TOKEN_REFRESH, { \r\n    refresh \r\n  });\r\n  return response.data;\r\n};\r\n\r\n// ÿ™ŸÜŸÅŸäÿ∞ ÿ™ÿ£ŸÉŸäÿØ ÿ±ŸÖÿ≤ OTP - ÿ∑ŸÑÿ® ÿπÿßŸÖ\r\nexport const confirmOTP = async (data) => {\r\n  const response = await publicAxios.post(CONFIRM_OTP, data);\r\n  return response.data;\r\n};\r\n\r\n// ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± - ÿ∑ŸÑÿ® ÿπÿßŸÖ\r\nexport const resetPassword = async (data) => {\r\n  const response = await publicAxios.post(RESET_PASSWORD, data);\r\n  return response.data;\r\n};\r\n\r\n// ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨ - ÿ∑ŸÑÿ® ŸÖÿ≠ŸÖŸä\r\nexport const logoutUser = async () => {\r\n  try {\r\n    // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ refresh token ŸÖŸÜ ÿßŸÑÿ¨ŸÑÿ≥ÿ©\r\n    const { sessionManager } = await import('../Config/cookies');\r\n    const session = sessionManager.restoreSession();\r\n    const refreshToken = session?.refreshToken;\r\n    \r\n    if (!refreshToken) {\r\n      console.log('‚ö†Ô∏è ŸÑÿß ŸäŸàÿ¨ÿØ refresh tokenÿå ÿ≥Ÿäÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ© ŸÅŸÇÿ∑');\r\n      return { message: 'ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ©' };\r\n    }\r\n    \r\n    console.log('üîÑ ÿ•ÿ±ÿ≥ÿßŸÑ ÿ∑ŸÑÿ® ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨ ŸÖÿπ refresh token');\r\n    const response = await axiosInstance.post(LOGOUT, { \r\n      refresh: refreshToken \r\n    });\r\n    \r\n    console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨ ÿ®ŸÜÿ¨ÿßÿ≠:', response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨:', error.response?.status, error.response?.data);\r\n    throw error;\r\n  }\r\n};\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}