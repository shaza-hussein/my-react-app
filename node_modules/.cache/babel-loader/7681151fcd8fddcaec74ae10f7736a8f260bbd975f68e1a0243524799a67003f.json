{"ast":null,"code":"import { refreshToken } from '../API';\nimport { sessionManager } from '../Config/cookies';\n\n// ŸÖÿπÿßŸÑÿ¨ÿ© ÿ£ÿÆÿ∑ÿßÿ° API Ÿàÿπÿ±ÿ∂ ÿ±ÿ≥ÿßÿ¶ŸÑ ŸÖŸÜÿßÿ≥ÿ®ÿ© ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ\nexport const handleApiError = error => {\n  var _error$response, _error$response2;\n  console.log('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä API:', error);\n\n  // ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ŸÖŸÜ ÿßŸÑÿÆÿßÿØŸÖ\n  if ((_error$response = error.response) !== null && _error$response !== void 0 && _error$response.data) {\n    const {\n      data\n    } = error.response;\n\n    // ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿ±ÿ≥ÿßŸÑÿ© ÿÆÿ∑ÿ£ ŸÖÿ≠ÿØÿØÿ©\n    if (data.message) {\n      return data.message;\n    }\n\n    // ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿ£ÿÆÿ∑ÿßÿ° ŸÅŸä ÿßŸÑÿ≠ŸÇŸàŸÑ\n    if (data.errors) {\n      const errorMessages = Object.values(data.errors).flat();\n      return errorMessages.join(', ');\n    }\n\n    // ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿ™ŸÅÿßÿµŸäŸÑ\n    if (data.detail) {\n      return data.detail;\n    }\n  }\n\n  // ÿ±ÿ≥ÿßÿ¶ŸÑ ÿÆÿ∑ÿ£ ÿ≠ÿ≥ÿ® ÿ±ŸÖÿ≤ ÿßŸÑÿ≠ÿßŸÑÿ©\n  switch ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) {\n    case 400:\n      return 'ÿ®ŸäÿßŸÜÿßÿ™ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©ÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑŸÖÿØÿÆŸÑÿßÿ™';\n    case 401:\n      return 'ÿ∫Ÿäÿ± ŸÖÿµÿ±ÿ≠ ŸÑŸÉ ÿ®ÿßŸÑŸàÿµŸàŸÑÿå Ÿäÿ±ÿ¨Ÿâ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ';\n    case 403:\n      return 'ŸÑŸäÿ≥ ŸÑÿØŸäŸÉ ÿµŸÑÿßÿ≠Ÿäÿ© ŸÑŸÑŸàÿµŸàŸÑ ŸÑŸáÿ∞ÿß ÿßŸÑŸÖŸàÿ±ÿØ';\n    case 404:\n      return 'ÿßŸÑŸÖŸàÿ±ÿØ ÿßŸÑŸÖÿ∑ŸÑŸàÿ® ÿ∫Ÿäÿ± ŸÖŸàÿ¨ŸàÿØ';\n    case 422:\n      return 'ÿ®ŸäÿßŸÜÿßÿ™ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©ÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑŸÖÿØÿÆŸÑÿßÿ™';\n    case 429:\n      return 'ÿ™ŸÖ ÿ™ÿ¨ÿßŸàÿ≤ ÿßŸÑÿ≠ÿØ ÿßŸÑŸÖÿ≥ŸÖŸàÿ≠ ŸÖŸÜ ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇÿßŸã';\n    case 500:\n      return 'ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿÆÿßÿØŸÖÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇÿßŸã';\n    case 502:\n      return 'ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇÿßŸã';\n    case 503:\n      return 'ÿßŸÑÿÆÿØŸÖÿ© ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠ÿ© ÿ≠ÿßŸÑŸäÿßŸãÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇÿßŸã';\n    default:\n      return 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÇÿπÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ';\n  }\n};\n\n// ŸÖÿπÿßŸÑÿ¨ÿ© ÿÆÿ∑ÿ£ 401 (ÿ∫Ÿäÿ± ŸÖÿµÿ±ÿ≠)\nexport const handleUnauthorizedError = async (error, originalRequest, axiosInstance) => {\n  // ÿ•ÿ∞ÿß ŸÑŸÖ ŸÜŸÉŸÜ ŸÇÿØ ÿ≠ÿßŸàŸÑŸÜÿß ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ ŸÖŸÜ ŸÇÿ®ŸÑ\n  if (!originalRequest._retry) {\n    originalRequest._retry = true;\n    try {\n      const session = sessionManager.restoreSession();\n      const refreshTokenValue = session === null || session === void 0 ? void 0 : session.refreshToken;\n      if (refreshTokenValue) {\n        console.log('üîÑ ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ...');\n\n        // ÿ∑ŸÑÿ® ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ\n        const response = await refreshToken(refreshTokenValue);\n\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜÿ≤ ŸÅŸä ÿßŸÑŸÉŸàŸÉŸäÿ≤\n        sessionManager.saveSession({\n          access: response.access,\n          refresh: response.refresh,\n          user: session.userData\n        });\n\n        // ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ∑ŸÑÿ® ÿßŸÑÿ£ÿµŸÑŸä ŸÖÿπ ÿßŸÑÿ™ŸàŸÉŸÜ ÿßŸÑÿ¨ÿØŸäÿØ\n        originalRequest.headers.Authorization = `Bearer ${response.access}`;\n        console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ Ÿàÿ•ÿπÿßÿØÿ© ÿßŸÑÿ∑ŸÑÿ®');\n        return axiosInstance(originalRequest);\n      }\n    } catch (refreshError) {\n      console.log('‚ùå ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ:', refreshError);\n      handleRefreshTokenFailure();\n    }\n  }\n\n  // ÿ•ÿ∞ÿß ŸÅÿ¥ŸÑ ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ ÿ£Ÿà ÿ™ŸÖÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖŸÜ ŸÇÿ®ŸÑ\n  handleRefreshTokenFailure();\n  return Promise.reject(error);\n};\n\n// ŸÖÿπÿßŸÑÿ¨ÿ© ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ\nexport const handleRefreshTokenFailure = () => {\n  console.log('üßπ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ© ÿ®ÿ≥ÿ®ÿ® ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ');\n  sessionManager.clearSession();\n\n  // ÿ•ÿ±ÿ≥ÿßŸÑ ÿ≠ÿØÿ´ ŸÑÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ©\n  window.dispatchEvent(new CustomEvent('sessionExpired'));\n};\n\n// ŸÖÿπÿßŸÑÿ¨ÿ© ÿ£ÿÆÿ∑ÿßÿ° ÿπÿßŸÖÿ©\nexport const handleError = error => {\n  var _error$response3;\n  console.log('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ∑ŸÑÿ®:', error);\n  if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401) {\n    handleRefreshTokenFailure();\n  }\n  return Promise.reject(error);\n};\n\n// Ÿáÿ∞ÿß ÿßŸÑŸÇÿØŸäŸÖ ŸÇÿ®ŸÑ ŸÖÿß ÿ™ŸÜŸÇŸÑŸä ŸÖŸÉÿßŸÜ ÿßŸÑŸÖŸÑŸÅ ŸÖŸÜ config\n// import { refreshToken } from '../API/Auth';\n// import { tokenManager, sessionManager } from './cookies';\n\n// // ŸÖÿπÿßŸÑÿ¨ÿ© ÿÆÿ∑ÿ£ 401 (ÿ∫Ÿäÿ± ŸÖÿµÿ±ÿ≠)\n// export const handleUnauthorizedError = async (error, originalRequest, axiosInstance) => {\n//   // ÿ•ÿ∞ÿß ŸÑŸÖ ŸÜŸÉŸÜ ŸÇÿØ ÿ≠ÿßŸàŸÑŸÜÿß ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ ŸÖŸÜ ŸÇÿ®ŸÑ\n//   if (!originalRequest._retry) {\n//     originalRequest._retry = true;\n\n//     try {\n//       const refreshTokenValue = tokenManager.getRefreshToken();\n//       if (refreshTokenValue) {\n//         console.log('üîÑ ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ...');\n\n//         // ÿ∑ŸÑÿ® ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ\n//         const response = await refreshToken(refreshTokenValue);\n\n//         // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜÿ≤ ŸÅŸä ÿßŸÑŸÉŸàŸÉŸäÿ≤\n//         tokenManager.updateTokens(response.access, response.refresh);\n\n//         // ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ∑ŸÑÿ® ÿßŸÑÿ£ÿµŸÑŸä ŸÖÿπ ÿßŸÑÿ™ŸàŸÉŸÜ ÿßŸÑÿ¨ÿØŸäÿØ\n//         originalRequest.headers.Authorization = `Bearer ${response.access}`;\n//         console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ Ÿàÿ•ÿπÿßÿØÿ© ÿßŸÑÿ∑ŸÑÿ®');\n\n//         return axiosInstance(originalRequest);\n//       }\n//     } catch (refreshError) {\n//       console.log('‚ùå ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ:', refreshError);\n//       handleRefreshTokenFailure();\n//     }\n//   }\n\n//   // ÿ•ÿ∞ÿß ŸÅÿ¥ŸÑ ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ ÿ£Ÿà ÿ™ŸÖÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖŸÜ ŸÇÿ®ŸÑ\n//   handleRefreshTokenFailure();\n//   return Promise.reject(error);\n// };\n\n// // ŸÖÿπÿßŸÑÿ¨ÿ© ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ\n// export const handleRefreshTokenFailure = () => {\n//   console.log('üßπ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ© ÿ®ÿ≥ÿ®ÿ® ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ');\n//   sessionManager.clearSession();\n\n//   // ÿ•ÿ±ÿ≥ÿßŸÑ ÿ≠ÿØÿ´ ŸÑÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ©\n//   window.dispatchEvent(new CustomEvent('sessionExpired'));\n// };\n\n// // ŸÖÿπÿßŸÑÿ¨ÿ© ÿ£ÿÆÿ∑ÿßÿ° ÿπÿßŸÖÿ©\n// export const handleError = (error) => {\n//   console.log('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ∑ŸÑÿ®:', error);\n\n//   if (error.response?.status === 401) {\n//     handleRefreshTokenFailure();\n//   }\n\n//   return Promise.reject(error);\n// };","map":{"version":3,"names":["refreshToken","sessionManager","handleApiError","error","_error$response","_error$response2","console","log","response","data","message","errors","errorMessages","Object","values","flat","join","detail","status","handleUnauthorizedError","originalRequest","axiosInstance","_retry","session","restoreSession","refreshTokenValue","saveSession","access","refresh","user","userData","headers","Authorization","refreshError","handleRefreshTokenFailure","Promise","reject","clearSession","window","dispatchEvent","CustomEvent","handleError","_error$response3"],"sources":["C:/Users/shaza/Desktop/test for NO/src/Utils/errorHandler.js"],"sourcesContent":["import { refreshToken } from '../API';\r\nimport { sessionManager } from '../Config/cookies';\r\n\r\n// ŸÖÿπÿßŸÑÿ¨ÿ© ÿ£ÿÆÿ∑ÿßÿ° API Ÿàÿπÿ±ÿ∂ ÿ±ÿ≥ÿßÿ¶ŸÑ ŸÖŸÜÿßÿ≥ÿ®ÿ© ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ\r\nexport const handleApiError = (error) => {\r\n  console.log('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä API:', error);\r\n  \r\n  // ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ŸÖŸÜ ÿßŸÑÿÆÿßÿØŸÖ\r\n  if (error.response?.data) {\r\n    const { data } = error.response;\r\n    \r\n    // ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿ±ÿ≥ÿßŸÑÿ© ÿÆÿ∑ÿ£ ŸÖÿ≠ÿØÿØÿ©\r\n    if (data.message) {\r\n      return data.message;\r\n    }\r\n    \r\n    // ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿ£ÿÆÿ∑ÿßÿ° ŸÅŸä ÿßŸÑÿ≠ŸÇŸàŸÑ\r\n    if (data.errors) {\r\n      const errorMessages = Object.values(data.errors).flat();\r\n      return errorMessages.join(', ');\r\n    }\r\n    \r\n    // ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿ™ŸÅÿßÿµŸäŸÑ\r\n    if (data.detail) {\r\n      return data.detail;\r\n    }\r\n  }\r\n  \r\n  // ÿ±ÿ≥ÿßÿ¶ŸÑ ÿÆÿ∑ÿ£ ÿ≠ÿ≥ÿ® ÿ±ŸÖÿ≤ ÿßŸÑÿ≠ÿßŸÑÿ©\r\n  switch (error.response?.status) {\r\n    case 400:\r\n      return 'ÿ®ŸäÿßŸÜÿßÿ™ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©ÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑŸÖÿØÿÆŸÑÿßÿ™';\r\n    case 401:\r\n      return 'ÿ∫Ÿäÿ± ŸÖÿµÿ±ÿ≠ ŸÑŸÉ ÿ®ÿßŸÑŸàÿµŸàŸÑÿå Ÿäÿ±ÿ¨Ÿâ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ';\r\n    case 403:\r\n      return 'ŸÑŸäÿ≥ ŸÑÿØŸäŸÉ ÿµŸÑÿßÿ≠Ÿäÿ© ŸÑŸÑŸàÿµŸàŸÑ ŸÑŸáÿ∞ÿß ÿßŸÑŸÖŸàÿ±ÿØ';\r\n    case 404:\r\n      return 'ÿßŸÑŸÖŸàÿ±ÿØ ÿßŸÑŸÖÿ∑ŸÑŸàÿ® ÿ∫Ÿäÿ± ŸÖŸàÿ¨ŸàÿØ';\r\n    case 422:\r\n      return 'ÿ®ŸäÿßŸÜÿßÿ™ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©ÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑŸÖÿØÿÆŸÑÿßÿ™';\r\n    case 429:\r\n      return 'ÿ™ŸÖ ÿ™ÿ¨ÿßŸàÿ≤ ÿßŸÑÿ≠ÿØ ÿßŸÑŸÖÿ≥ŸÖŸàÿ≠ ŸÖŸÜ ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇÿßŸã';\r\n    case 500:\r\n      return 'ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿÆÿßÿØŸÖÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇÿßŸã';\r\n    case 502:\r\n      return 'ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇÿßŸã';\r\n    case 503:\r\n      return 'ÿßŸÑÿÆÿØŸÖÿ© ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠ÿ© ÿ≠ÿßŸÑŸäÿßŸãÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÑÿßÿ≠ŸÇÿßŸã';\r\n    default:\r\n      return 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÇÿπÿå Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ';\r\n  }\r\n};\r\n\r\n// ŸÖÿπÿßŸÑÿ¨ÿ© ÿÆÿ∑ÿ£ 401 (ÿ∫Ÿäÿ± ŸÖÿµÿ±ÿ≠)\r\nexport const handleUnauthorizedError = async (error, originalRequest, axiosInstance) => {\r\n  // ÿ•ÿ∞ÿß ŸÑŸÖ ŸÜŸÉŸÜ ŸÇÿØ ÿ≠ÿßŸàŸÑŸÜÿß ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ ŸÖŸÜ ŸÇÿ®ŸÑ\r\n  if (!originalRequest._retry) {\r\n    originalRequest._retry = true;\r\n\r\n    try {\r\n      const session = sessionManager.restoreSession();\r\n      const refreshTokenValue = session?.refreshToken;\r\n      \r\n      if (refreshTokenValue) {\r\n        console.log('üîÑ ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ...');\r\n        \r\n        // ÿ∑ŸÑÿ® ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ\r\n        const response = await refreshToken(refreshTokenValue);\r\n        \r\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜÿ≤ ŸÅŸä ÿßŸÑŸÉŸàŸÉŸäÿ≤\r\n        sessionManager.saveSession({\r\n          access: response.access,\r\n          refresh: response.refresh,\r\n          user: session.userData\r\n        });\r\n        \r\n        // ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ∑ŸÑÿ® ÿßŸÑÿ£ÿµŸÑŸä ŸÖÿπ ÿßŸÑÿ™ŸàŸÉŸÜ ÿßŸÑÿ¨ÿØŸäÿØ\r\n        originalRequest.headers.Authorization = `Bearer ${response.access}`;\r\n        console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ Ÿàÿ•ÿπÿßÿØÿ© ÿßŸÑÿ∑ŸÑÿ®');\r\n        \r\n        return axiosInstance(originalRequest);\r\n      }\r\n    } catch (refreshError) {\r\n      console.log('‚ùå ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ:', refreshError);\r\n      handleRefreshTokenFailure();\r\n    }\r\n  }\r\n\r\n  // ÿ•ÿ∞ÿß ŸÅÿ¥ŸÑ ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ ÿ£Ÿà ÿ™ŸÖÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖŸÜ ŸÇÿ®ŸÑ\r\n  handleRefreshTokenFailure();\r\n  return Promise.reject(error);\r\n};\r\n\r\n// ŸÖÿπÿßŸÑÿ¨ÿ© ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ\r\nexport const handleRefreshTokenFailure = () => {\r\n  console.log('üßπ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ© ÿ®ÿ≥ÿ®ÿ® ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ');\r\n  sessionManager.clearSession();\r\n  \r\n  // ÿ•ÿ±ÿ≥ÿßŸÑ ÿ≠ÿØÿ´ ŸÑÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ©\r\n  window.dispatchEvent(new CustomEvent('sessionExpired'));\r\n};\r\n\r\n// ŸÖÿπÿßŸÑÿ¨ÿ© ÿ£ÿÆÿ∑ÿßÿ° ÿπÿßŸÖÿ©\r\nexport const handleError = (error) => {\r\n  console.log('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ∑ŸÑÿ®:', error);\r\n  \r\n  if (error.response?.status === 401) {\r\n    handleRefreshTokenFailure();\r\n  }\r\n  \r\n  return Promise.reject(error);\r\n}; \r\n\r\n\r\n// Ÿáÿ∞ÿß ÿßŸÑŸÇÿØŸäŸÖ ŸÇÿ®ŸÑ ŸÖÿß ÿ™ŸÜŸÇŸÑŸä ŸÖŸÉÿßŸÜ ÿßŸÑŸÖŸÑŸÅ ŸÖŸÜ config\r\n// import { refreshToken } from '../API/Auth';\r\n// import { tokenManager, sessionManager } from './cookies';\r\n\r\n// // ŸÖÿπÿßŸÑÿ¨ÿ© ÿÆÿ∑ÿ£ 401 (ÿ∫Ÿäÿ± ŸÖÿµÿ±ÿ≠)\r\n// export const handleUnauthorizedError = async (error, originalRequest, axiosInstance) => {\r\n//   // ÿ•ÿ∞ÿß ŸÑŸÖ ŸÜŸÉŸÜ ŸÇÿØ ÿ≠ÿßŸàŸÑŸÜÿß ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ ŸÖŸÜ ŸÇÿ®ŸÑ\r\n//   if (!originalRequest._retry) {\r\n//     originalRequest._retry = true;\r\n\r\n//     try {\r\n//       const refreshTokenValue = tokenManager.getRefreshToken();\r\n//       if (refreshTokenValue) {\r\n//         console.log('üîÑ ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ...');\r\n        \r\n//         // ÿ∑ŸÑÿ® ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ\r\n//         const response = await refreshToken(refreshTokenValue);\r\n        \r\n//         // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜÿ≤ ŸÅŸä ÿßŸÑŸÉŸàŸÉŸäÿ≤\r\n//         tokenManager.updateTokens(response.access, response.refresh);\r\n        \r\n//         // ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ∑ŸÑÿ® ÿßŸÑÿ£ÿµŸÑŸä ŸÖÿπ ÿßŸÑÿ™ŸàŸÉŸÜ ÿßŸÑÿ¨ÿØŸäÿØ\r\n//         originalRequest.headers.Authorization = `Bearer ${response.access}`;\r\n//         console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ Ÿàÿ•ÿπÿßÿØÿ© ÿßŸÑÿ∑ŸÑÿ®');\r\n        \r\n//         return axiosInstance(originalRequest);\r\n//       }\r\n//     } catch (refreshError) {\r\n//       console.log('‚ùå ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ:', refreshError);\r\n//       handleRefreshTokenFailure();\r\n//     }\r\n//   }\r\n\r\n//   // ÿ•ÿ∞ÿß ŸÅÿ¥ŸÑ ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ ÿ£Ÿà ÿ™ŸÖÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖŸÜ ŸÇÿ®ŸÑ\r\n//   handleRefreshTokenFailure();\r\n//   return Promise.reject(error);\r\n// };\r\n\r\n// // ŸÖÿπÿßŸÑÿ¨ÿ© ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ\r\n// export const handleRefreshTokenFailure = () => {\r\n//   console.log('üßπ ÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ© ÿ®ÿ≥ÿ®ÿ® ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ™ŸàŸÉŸÜ');\r\n//   sessionManager.clearSession();\r\n  \r\n//   // ÿ•ÿ±ÿ≥ÿßŸÑ ÿ≠ÿØÿ´ ŸÑÿ≠ÿ∞ŸÅ ÿßŸÑÿ¨ŸÑÿ≥ÿ©\r\n//   window.dispatchEvent(new CustomEvent('sessionExpired'));\r\n// };\r\n\r\n// // ŸÖÿπÿßŸÑÿ¨ÿ© ÿ£ÿÆÿ∑ÿßÿ° ÿπÿßŸÖÿ©\r\n// export const handleError = (error) => {\r\n//   console.log('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ∑ŸÑÿ®:', error);\r\n  \r\n//   if (error.response?.status === 401) {\r\n//     handleRefreshTokenFailure();\r\n//   }\r\n  \r\n//   return Promise.reject(error);\r\n// }; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}